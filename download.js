const download = require('download');

const st3keyArray = [
  '25395E2323D44C2CC63108A7F8DD5B5E',
  'D2C7648D4CE81E379B2F85E0959EF47B',
  '8F9E4F24C7923EE50365A2E2F0372C59',
  'D113C4CE0B070B17A8AA70ABB239F7BD',
  '8611058CE64A222B7EC28A1E0C26F2A3',
  '30300CFE06F5BD0E56F2CC4C1906C592',
  '3D107BA8753A3FB542FD50337429267F',
  '29091E4EF6293F8EDEF4018CBE65F755',
  'F9A630F085BCB4693F0E84EBADC10E11',
  'F8002FACFD47659CBFCAA8ABF3EB327A',
  '34B12480B2AE9D9D8CA4D2B9EA8B1523',
  '9MXkKRxLoZvLrfa4XAbTJ74J',
  '337BC7180B9A80E7A9BE0D3E9F9E7207',
  '5D8F35F9BC29DC790DF5D50B296FCE8C',
  'A024623FB904A34A111C7726E4D53A2F',
  'yjeiTr42zdcNwTkXFa806C9q',
  'b1lh7s6Y2QQXKY9k84o8mA6X',
  '4140611B55B0A718D728C245FAB92B80',
  '96C342E7A1947827CAE58BBAFC7949B8',
  'C48228EEC69B133FF762A8E51624733E',
  '6E6EE776011794BC08922EFF7A88B810',
  '241D3B0884C03F40030596B01E9DAB07',
  '08E792A91C3E96C926C66FA71383F04B',
  '88AC6C7B1912727A69136591CEDC71E5',
  'BE5A63646E3BB1B5FD0A196128DA21D9',
  'B94D9A6AA534B0DDA811B9EB1DAB5671',
  '3CF7A947016F514CD4E1E062499352A2',
  'XIZH0UyIxJon3DD37JCs5qbs',
  '57DE6DC752A8948D4D9DFD458DAFCA6E',
  'D01BE7EE1FAE2ACA666DAAF0412C4F04',
  '7E0C8E0D3090C3487225894FECC81A5C',
  'A874CA980912A570DC8D8C641B2BCDE4',
  '2F888BAB574B87E774B9C54D5B10C509',
  'QL4iWbHZboZ9nYJcAI1vNqqb',
  '29FF47FE7934B9135F544AF3E44B72D4',
  '567DBCEFEF2291B72CDDA74F574049C4',
  '1B2851FE4DE0B734B392BADA4D9D8AD7',
  '1CD0374D4ECF466255A18233E9387DC7',
  '5BEB9A230D9B9855E093AAF72D225B97',
  '639370B7DFDF372F0C545AC78E52FD20',
  '3FB2AEBFCF6EE4937870A42CF4A06FDA',
  'A8D25E1B7F36C356326315C8AC3BA496',
  'D0307E2FB25EB2897449AB97B68189E6',
  '0E44C84FB6028995601375E812C2EE76',
  '91885DD73C478F161C53314F539A1B6E',
  'F80E3E00200C480D7AAA1C024DBD5421',
  '2CBF24C6DD592114B6967C3CD07B931D',
  'B506CA62DCF84AF7C6D49EFF62BFD7E4',
  'F389DF0E3B52739FCC6B5A0806445360',
  'E4ADB86497F66B2FF6D00012FB688B38',
  '4C797D1A0382F2C87F30B6BA9E476C69',
  '99045049A2BB0AFDBF6C112D5D96FAF3',
  '83FBFF6817226570C13AB01492916D76',
  'E5351061FAE3B40CAE42F1E9F48E1317',
  '1A7BB69427957862504D8B8631379167',
  'F43D5A0BA8D65EA848D2717768D766B0',
  'E8BD608C075DBDA8F52B7D20BD8128A9',
  '517A1F733D02ADA0CE629697D9C26B3F',
  'FC5593D3A427F66540BA6E06A5647BE9',
  'D8CDC1B67B5A0D52BEE9734B8A14A058',
  '178C25BB2CAC345B85A080D8A9CE0B66',
  '1174D2637CD7C101676C6AA9906B2864',
  '38F5074E859809B1CC470B54B2C7192C',
  '2E0797C79990E10092DE7CAC16A6F26E',
  '02BBF81B99B25E26F10B33E595B42ED0',
  '5B481E82BFA385349D422B9E8652AC0B',
  'A185B5DEEA5EE427F6227F72175BC0DA',
  '79B648AA21229E1CDD2ECF83C9F70154',
  'EEACF08DB6E14F33AF0B678498A47AAB',
  '563C6D8EBD44D6D541B29AB7E7A87C47',
  '051D666F0A4F3C504CC4628DD8A8B928',
  '6E8E5234FA758244D51F890FB102EA2B',
  'AD8650DFA7AF309E8558B3CB784F4B63',
  '0BA9A207A72580766925E8B159DBB759',
  '585EA289370335789409E37003AAC7A0',
  'bAkyRKVh7hrzC7oPfpyGdXgy',
  'w9YBSMzUefFCBPzFvps1UN5n',
  '06BA8BD805A5D2B41A89AEBBF460058E',
  '8445E84235451CEE18CEA4371C76ABE1',
  'B560814AC89DB6216CC1F99FFC377C65',
  'CDEB70E21815EA4DEA61FDAC47C95729',
  'KseLAPqFPYHNeaNGq3xgJDLK',
  '088CD6CE9CD315A3B964F4482FC0B1A4',
  'lSkqeAO6zrKLPaKykveGRH30',
  'BA83C2C5CCCCFB62C07DB5421E49C91A',
  'B9D2576029A77795B931DD5C91243497',
  'PKluX3zeKfPGDvFSQnadqj7o',
  '8vvG93KRUgyJHQHlFNKzP7pe',
  'E9142A7250E76FB4C345CF1D42AC7346',
  'twW83t2bQQhGCs5iHzOCjzig',
  'E169F956F3D9EE6F90573F2FD88B2F0F',
  'E49B6908C57A4A1BD65C72291D613822',
  'FdhPzoyybYQ4ntGwJHSHlW25',
  'oO9e36itjta9NhsFAKUuUEwc',
  '8BAF6A6CF15C6C8BF93C5F580BA1FC3C',
  'FFEE139E6ABF0BFBB0B2CF5E18F3F8D7',
  'tT6oXvPurcmAN8FR8jQhhF1P',
  'B94937E4533D0C62B299492A52D4A548',
  '3E69D71AFEFF64F739E1E4839039D767',
  'u2IsOySz0P7vI4CQdXjYgjRL',
  '9AD814B0B6D73235B28078C97DC8D243',
  '0DAF035A6129A616FE23B265C41457F6',
  't97DBVDB5M1UPaMERUSxjc48',
  'A3143F4CF92D47440768DC1CA88679F3',
  '3E4203B8182783F9FAB9FF118548C22E',
  'C079332DF1D9D6FA87B9BB18671F6C95',
  '41AA9ABB613470242A386DA9B9D7D5F5',
  '35F4D9EE5BB75766EA741DBE936624E7',
  'cBiezQBb2c3FpClN978lkHd4',
  '5D9C5B991B2F6368548C8282F46FFC8F',
  'C38BCD039A3F557EAB429F99B695CEC6',
  '02096583E46F3A989597519E81F1483C',
  'jTp317FNUj5VyqMhbqDC2DAG',
  'HWOKdbzHPM0i3MkH0OL6EP1Y',
  '1AAB6934B9E52FF07724D65EBE268FFA',
  'C0LSwR5ctQXWIiBxO0toUhsC',
  'C9C2456E251A85A9BDA0ED713CA7979E',
  '6DD0DF87A308C29C9C85ECF14037F878',
  '4284BABA3455A834CEB093E40E6ACE69',
  'E42C38A3E6D82236E4582582AF68CCBB',
  '530C5EB5DB3925FB12872102C9382602',
  '9A8786390798CE9F5B22608CC15614DE',
  '76297CA53F17FA0E11A9F102F52922ED',
  'I3oh2xrpQGkqWMH2VqJQSl7E',
  'xYG8mp6Crz8pb17TqRF34kME',
  '648D817D461A27A48CF285B3A2EAD69B',
];

async function downloadWithRetry(file, retries = 3) {
  for (let i = 0; i < retries; i++) {
    try {
      await download(
        `https://d1txs74qdv0iht.cloudfront.net/presets/${file}.json`,
        './presets'
      );
      console.log(`Downloaded: ${file}`);
      break; // Break the loop if download is successful
    } catch (error) {
      console.error(
        `Failed to download ${file}, attempt ${i + 1}/${retries}: ${
          error.message
        }`
      );
      if (i === retries - 1) throw error;
    }
  }
}

(async () => {
  try {
    await Promise.all(st3keyArray.map((file) => downloadWithRetry(file)));
    console.log('All files downloaded successfully');
  } catch (error) {
    console.error('Some files failed to download:', error);
  }
})();
