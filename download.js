const download = require('download');

const st3keyArray = [
  '5EDFBE6769AE9CC7CD6D8361241E8682',
  '0AE9953E41F2DF6C5C5D04713C3E1182',
  'EC9DB40EBC01B4CA9EAB9E7A3E05EC97',
  '1487CCBD4CFC969414D6E9A0AF1EC2F6',
  '4EF53008F228C33F86597D541343ED8B',
  'D4084963A7B10238E6E04E18F4C867E7',
  '47778D561AB016C5A1224A07AD21FBC9',
  'E1AAA7832A25421FB4CB8F1092B03DE3',
  '31083C184A38E5785C25145D8EF384CF',
  '4B01B92868EC2BD0557EDA8CF766E8EE',
  '8DDEB97F00F86507B5EA909816EDFD48',
  '571CA73814F968ADBF5D89A4B3427D9D',
  'B059B2076FA8ACDE8EF9B5936B007E77',
  'E7664D954367105F2CCFD40A241AB2EA',
  'B4D40599F9739CB79CC3D1D779525FDF',
  '99640B7DFA11209C72F1E3BD1F62714E',
  '3D0294A05106831E32E7FD262D111F42',
  'A0AD3FB26947350D279E0EF1C54F4678',
  '7499D54E5FC2D272361612F4042159FB',
  'D4D33AEAD2338CA6A2E01C51D9DF2EC1',
  'C7AB502622810FDF88AE88A8F46756FB',
  '513B1DCF9CF9CEA57ABC563732BCE776',
  'DA01671B44DB8C9B07FB65A212B0D09D',
  '0A65656D3C0711CDC522219E4E884CDD',
  '00550522BD5D5D9D6619664D0CC03AF2',
  'C063019B2DB7665BB96CB314F70CB3ED',
  '3287F3BD505BEFCE5567BD0F52A182FA',
  'D38735FD3A58BA64FA93B8096FF7F70E',
  'S1HNbc28faCQSv0JkYkXBR0y',
  '7022AA28E2C6668A37DDF1F8934F205C',
  '4F5390FC98550E8FEFC8FA8AE8DC6D0A',
  'ECAF1072509EEAF7A360CA7F8E918585',
  'E521D53006B00EDF216361591DF7832E',
  '1FC535593C75F58D6F26555AE6AC3838',
  '6A38A536AFB54A00F196F5C44C187504',
  '7E4955D637F81FF92484CB620ABB49AB',
  '2929F2F340F49C06B7A21102A088FDBA',
  '9A8FAA73ECB43E23AE6B524394F22A53',
  'JAVEQnPZL652uRPMEGCnc15E',
  '07DDF7769FBC92915E13D477E27681B0',
  'BF32BCC3B75746970C94C3DFB1FDB084',
  'EC005BFF4C204B8A8F9991B861587627',
  '554856B2FAE04E73FCE4B65E5EE42E6F',
  'C99A1139F79EC078E795FD0E8B2652C6',
  '84362925877CA7C6DA3B766BAF909FEB',
  '8352DC74BE69BF2E79DF874BEA109A58',
  '939B9F0FD7CE978EB28BDBB0F3FBE59C',
  'aec3b6e204cd1928b793013b',
  '4604481ce033260db3eb284c',
  '209b2dce377d01d721417628',
  'f98bc0ff7574de7d4e244d12',
  'f2664ff7a64ec080306bf7ad',
  '3558634819c5ea211f2f651b',
  '7800D7F45547CCF901E224F1039A110A',
  '73BCFE251D0E483A9304CB2309962588',
  '85FC58DBFA0E3B81720C9E98DEEF9A31',
  '0CEDC8ACB679DCCD1AF2032523ECFD69',
  '6CA4CB3198CFF03E1E9E4BAE4BAEA408',
  'D849AC460305FCB0A1FEEDCB1BD525B8',
  'BB83FE449D84AC2BDEEEEE505C6F8C6F',
  '419931CD15C9A7FEE6F3939C9050D095',
  '63B24A77C7EC1D5959A62B1CD4CC2914',
  'DFA32724CEF3EF6752D1F18A10062E44',
  'C7A0A754F438E9FADFCB9E86DCD65AC0',
  '58A06FA43E83A0E9823576E1489A811D',
  'DB50A2AE718E2B38F821D7B9169E201E',
  '0B50B5295035A8566D3CCCACA630FAA3',
  '5AE2BD3F0ED2903C8012F212A51938DA',
  '035238DEA1072A92A317B1C39675A751',
  'C608291ADFEA427CD3B390E972BFA19C',
  '7AC24C3B730F11070A73E82466FD2DB5',
  '67CE24BE0121A2876B4F58D8DE876710',
  '9EFEF4F6A1571FCDA36DED1095292EDB',
  'd615419286ce96719aa261473899c2a2',
];
async function downloadWithRetry(file, retries = 3) {
  for (let i = 0; i < retries; i++) {
    try {
      await download(
        `https://d1txs74qdv0iht.cloudfront.net/presets/${file}.json`,
        './presets'
      );
      console.log(`Downloaded: ${file}`);
      break; // Break the loop if download is successful
    } catch (error) {
      console.error(
        `Failed to download ${file}, attempt ${i + 1}/${retries}: ${
          error.message
        }`
      );
      if (i === retries - 1) throw error;
    }
  }
}

(async () => {
  try {
    await Promise.all(st3keyArray.map((file) => downloadWithRetry(file)));
    console.log('All files downloaded successfully');
  } catch (error) {
    console.error('Some files failed to download:', error);
  }
})();
